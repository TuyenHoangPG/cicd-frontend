name: test-github-action

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  check:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger CircleCI
        env:
          CIRCLE_BRANCH: ${{ github.head_ref }}
        run: |
          curl --location --request POST 'https://circleci.com/api/v2/project/github/TuyenHoangPG/cicd-frontend/pipeline' \
                --header 'Content-Type: application/json' \
                -u "1ea9cc1a016c3f6d452b22699929fd107dccd6a7" \
                --data-raw '{"branch":"${CIRCLE_BRANCH}", "parameters":{"pull_request":true}}'